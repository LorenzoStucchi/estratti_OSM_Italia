{"version":3,"sources":["components/Breadcrumb/Breadcrumb.module.css","components/SideMenu/DownloadItems/DownloadItems.module.css","components/SideMenu/SideMenu.module.css","components/Italy.js","components/Breadcrumb/Breadcrumb.js","static/assets/logo-wikimedia.png","components/SideMenu/filter.js","components/SideMenu/DownloadItems/DownloadItems.js","helpers.js","components/SideMenu/SideMenu.js","App.js","index.js"],"names":["module","exports","pathColors","getComputedStyle","document","documentElement","getPropertyValue","Italy","type","currentGeoJSON","italyTree","selectedTreeItem","setSelectedTreeItem","geoJSONref","useRef","map","useMap","useEffect","current","bounds","getBounds","Object","entries","length","fitBounds","GeoJSON","ref","eventHandlers","click","e","a","feature","layer","geo_reg_istat","reg_istat","region","children","find","item","properties","adm","istat","geo_prov_istat","prov_istat","geo_com_istat","province","com_istat","pathOptions","color","data","Breadcrumb","breadcrumbData","getParentData","allData","push","parent","reverse","className","styles","breadcrumb","logo","href","target","src","appTitle","node","index","style","zIndex","breadItem","onClick","com_name","prov_name","reg_name","name","search","term","foundIDS","isMatching","toLowerCase","indexOf","Array","isArray","forEach","child","hasMatchingChild","id","ToolTipButton","title","tooltip","Tooltip","Button","variant","startIcon","button","DownloadItems","selectedFeature","resultItem","config","basePathFiles","italyBounds","geoRegions","topojson","regions","geoProvinces","provinces","parentItem","getProvincesFromRegionIstatCode","istatCode","provincesIstatCodes","filteredProvinces","features","filter","includes","getChildFeatures","regionsFeatures","regionFeature","getMunicipalitiesForProvinceIstatCode","provinceIstatCode","provinceFeature","fileName","basePathApp","inputFilesPath","fetch","fileFetched","json","municipalities","findMunicipalityInProvince","scrollToElement","element","scrollIntoView","behavior","block","inline","SideMenu","useState","expanded","setExpanded","selected","setSelected","searchFilter","setSearchFilter","searchValue","setSearchValue","preventExpand","toExpand","xpath","targetItem","evaluate","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","console","log","searchNode","dataNode","matchedIDS","searchDebounced","useDebouncedCallback","value","sideMenu","TextField","label","onChange","callback","TreeView","defaultCollapseIcon","defaultExpandIcon","onNodeSelect","_","nodeIds","mapTree","sort","n1","n2","localeCompare","TreeItem","nodeId","onLabelClick","event","slice","setTimeout","App","useMemo","prov_istat_code","reg_istat_code","com_istat_code","previousRegions","previousProvinces","commonMunicipalityProperties","municipality","featureGeometry","municipalityFeature","makeItalianTree","setCurrentGeoJSON","setSelectedFeature","then","MapContainer","zoom","minZoom","maxBounds","maxBoundsViscosity","scrollWheelZoom","TileLayer","attribution","mapAttribution","url","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.be2528eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumb\":\"Breadcrumb_breadcrumb__VvPxc\",\"breadItem\":\"Breadcrumb_breadItem__Fr3qm\",\"appTitle\":\"Breadcrumb_appTitle__3Xzjs\",\"logo\":\"Breadcrumb_logo__3VhFl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resultItem\":\"DownloadItems_resultItem__3CTww\",\"button\":\"DownloadItems_button__10wNR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideMenu\":\"SideMenu_sideMenu__2Qg5Y\"};","import { useEffect, useRef } from \"react\";\nimport { GeoJSON, useMap } from \"react-leaflet\";\n\nconst pathColors = [\n  getComputedStyle(document.documentElement).getPropertyValue(\"--mainColor1\"),\n  getComputedStyle(document.documentElement).getPropertyValue(\"--mainColor2\"),\n  getComputedStyle(document.documentElement).getPropertyValue(\"--mainColor3\"),\n  getComputedStyle(document.documentElement).getPropertyValue(\"--mainColor4\"),\n];\n\nconst getPathColor = (type) => {\n  return pathColors[type / 2 - 1];\n};\n\nconst Italy = ({\n  currentGeoJSON,\n  italyTree,\n  selectedTreeItem,\n  setSelectedTreeItem,\n}) => {\n  const geoJSONref = useRef();\n  const map = useMap();\n\n  useEffect(() => {\n    if (!geoJSONref.current) {\n      return;\n    }\n    const bounds = geoJSONref.current.getBounds();\n    if (!Object.entries(bounds).length) {\n      return;\n    }\n    map.fitBounds(bounds);\n  }, [currentGeoJSON, geoJSONref, map]);\n\n  return (\n    <GeoJSON\n      ref={geoJSONref}\n      eventHandlers={{\n        click: async (e) => {\n          const feature = e.layer.feature;\n          const geo_reg_istat = currentGeoJSON.reg_istat;\n          const region = italyTree.children.find(\n            ({ reg_istat }) => reg_istat === geo_reg_istat\n          );\n\n          let item = null;\n\n          if (feature.properties.adm === 4) {\n            item = italyTree.children.find(\n              ({ reg_istat }) => reg_istat === feature.properties.istat\n            );\n          }\n\n          if (feature.properties.adm === 6) {\n            const geo_prov_istat = feature.properties.istat;\n            item = region.children.find(\n              ({ prov_istat }) => prov_istat === geo_prov_istat\n            );\n          }\n\n          if (feature.properties.adm === 8) {\n            const geo_prov_istat = currentGeoJSON.prov_istat;\n            const geo_com_istat = feature.properties.istat;\n            const province = region.children.find(\n              ({ prov_istat }) => prov_istat === geo_prov_istat\n            );\n            item = province.children.find(\n              ({ com_istat }) => com_istat === geo_com_istat\n            );\n          }\n\n          if (item) {\n            setSelectedTreeItem(item);\n          }\n        },\n      }}\n      pathOptions={{ color: getPathColor(selectedTreeItem.type) }}\n      key={\n        currentGeoJSON\n          ? currentGeoJSON.com_istat ||\n            currentGeoJSON.prov_istat ||\n            currentGeoJSON.reg_istat\n          : \"state\"\n      }\n      data={currentGeoJSON}\n    />\n  );\n};\n\nexport default Italy;\n","import styles from \"./Breadcrumb.module.css\";\nimport logo from \"../../static/assets/logo-wikimedia.png\";\n\nconst Breadcrumb = ({ selectedTreeItem, setSelectedTreeItem }) => {\n  const getParentData = (item, allData) => {\n    allData.push(item);\n    if (item.parent) {\n      return getParentData(item.parent, allData);\n    }\n    return allData;\n  };\n  const breadcrumbData = getParentData(selectedTreeItem, []).reverse();\n\n  return (\n    <div className={styles.breadcrumb}>\n      <a\n        className={styles.logo}\n        href=\"https://www.wikimedia.it/\"\n        target=\"_blank\"\n      >\n        <img src={logo} />\n      </a>\n      <div className={styles.appTitle}>\n        <h1>Estratti OpenStreetMap Italia</h1>\n      </div>\n\n      {breadcrumbData.map((node, index) => {\n        return (\n          <p\n            key={node.type}\n            style={{ zIndex: 4 - index }}\n            className={styles.breadItem}\n            onClick={() => setSelectedTreeItem(node)}\n          >\n            {node.com_name || node.prov_name || node.reg_name || node.name}\n          </p>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Breadcrumb;\n","export default \"data:image/png;base64,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\"","export const search = (node, term, foundIDS) => {\n  const name = node.com_name || node.prov_name || node.reg_name;\n  let isMatching =\n    term.length > 2 &&\n    name &&\n    name.toLowerCase().indexOf(term.toLowerCase()) > -1;\n  if (Array.isArray(node.children)) {\n    node.children.forEach((child) => {\n      const hasMatchingChild = search(child, term, foundIDS);\n      isMatching = isMatching || hasMatchingChild;\n    });\n  }\n\n  // We will add any item if it matches our search term or if it has a children that matches our term\n  if (isMatching && name) {\n    const id = node.com_istat || node.prov_istat || node.reg_istat || name;\n    foundIDS.push(id);\n  }\n  return isMatching;\n};\n","import styles from \"./DownloadItems.module.css\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport config from \"../../../configuration.json\";\n\nconst ToolTipButton = ({ title, href, tooltip }) => (\n  <Tooltip title={tooltip}>\n    <Button\n      variant=\"contained\"\n      href={href}\n      target=\"_blank\"\n      startIcon={<SaveIcon />}\n      className={styles.button}\n      color=\"primary\"\n    >\n      {title}\n    </Button>\n  </Tooltip>\n);\n\nconst DownloadItems = ({ selectedFeature }) => {\n  if (!selectedFeature?.properties) {\n    return null;\n  }\n\n  const { properties } = selectedFeature;\n\n  if (!properties[\".gpkg\"] && !properties[\".osm.pbf\"] && !properties[\".obf\"]) {\n    return null;\n  }\n\n  return (\n    <div className={styles.resultItem}>\n      <p>Estratti disponibili per {properties.name}</p>\n      {properties[\".gpkg\"] && (\n        <ToolTipButton\n          tooltip=\"OGC GeoPackage\"\n          href={config.basePathFiles + \"/\" + properties[\".gpkg\"]}\n          title=\"GPKG\"\n        />\n      )}\n      {properties[\".osm.pbf\"] && (\n        <ToolTipButton\n          tooltip=\"Protocolbuffer binary format\"\n          href={config.basePathFiles + \"/\" + properties[\".osm.pbf\"]}\n          title=\"PBF\"\n        />\n      )}\n       {properties[\".obf\"] && (\n        <ToolTipButton\n          tooltip=\"OsmAnd OBF Format\"\n          href={config.basePathFiles + \"/\" + properties[\".obf\"]}\n          title=\"OBF\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default DownloadItems;\n","import * as topojson from \"topojson-client\";\nimport provinces from \"./static/boundaries/limits_IT_provinces.json\";\nimport regions from \"./static/boundaries/limits_IT_regions.json\";\nimport municipalities from \"./static/boundaries/municipalities.json\";\nimport config from \"./configuration.json\";\n\nexport const italyBounds = [[35, 6.5], [48, 19.5]];\nexport const geoRegions = topojson.feature(regions, \"limits_IT_regions\");\nconst geoProvinces = topojson.feature(provinces, \"limits_IT_provinces\");\n\nexport const parentItem = \"Italia\";\n\nexport const getParentForFeature = (feature, selectedFeature) => {\n  if (feature.properties.adm === 6) {\n    return {\n      ...feature,\n      properties: {\n        ...feature.properties,\n        reg_name: selectedFeature.region.name,\n        reg_istat: selectedFeature.region.reg_istat,\n      },\n    };\n  }\n  return feature;\n};\n\nconst getProvincesFromRegionIstatCode = async (italyTree, istatCode) => {\n  const region = italyTree.children.find(\n    ({ reg_istat }) => reg_istat === istatCode\n  );\n  const provincesIstatCodes = region.children.map(\n    ({ prov_istat }) => prov_istat\n  );\n  const filteredProvinces = geoProvinces.features.filter(({ properties }) =>\n    provincesIstatCodes.includes(properties.istat)\n  );\n  const regionsFeatures = await italyTree.getChildFeatures();\n  const regionFeature =\n    regionsFeatures?.features.find(\n      ({ properties }) => properties.istat === istatCode\n    ) ?? {};\n\n  return {\n    features: filteredProvinces,\n    type: \"FeatureCollection\",\n    properties: {\n      ...regionFeature.properties,\n      reg_istat: region.reg_istat,\n    },\n  };\n};\n\nexport const getMunicipalitiesForProvinceIstatCode = async (\n  provinceIstatCode\n) => {\n  const provinceFeature =\n    geoProvinces?.features.find(\n      ({ properties }) => properties.istat === provinceIstatCode\n    ) ?? {};\n\n  const fileName = `${config.basePathApp +\n    config.inputFilesPath}limits_P_${provinceIstatCode}_municipalities.json`;\n  const fileFetched = await fetch(fileName);\n  const municipalities = await fileFetched.json();\n  return [\n    topojson.feature(\n      municipalities,\n      `limits_P_${provinceIstatCode}_municipalities`\n    ),\n    provinceFeature.properties,\n  ];\n};\n\nconst findMunicipalityInProvince = (currentGeoJSON, com_istat) =>\n  currentGeoJSON.features.find(\n    ({ properties }) => properties.istat === com_istat\n  );\n\nexport const makeItalianTree = () => {\n  let italyTree = {\n    name: parentItem,\n    type: 2,\n    getChildFeatures: async () => geoRegions,\n    children: [],\n  };\n\n  municipalities.forEach(\n    ({\n      name,\n      reg_name,\n      prov_name,\n      prov_istat_code,\n      reg_istat_code,\n      com_istat_code,\n    }) => {\n      let previousRegions = italyTree.children.find(\n        ({ reg_name: name }) => name === reg_name\n      );\n      let previousProvinces = previousRegions\n        ? previousRegions?.children.find(\n            ({ prov_name: name }) => name === prov_name\n          )\n        : null;\n      const region = {\n        reg_name: reg_name,\n        reg_istat: reg_istat_code,\n        type: 4,\n        parent: italyTree,\n        getChildFeatures: async () => {\n          const provinces = await getProvincesFromRegionIstatCode(\n            italyTree,\n            reg_istat_code\n          );\n          return { ...provinces, parent: italyTree, reg_istat: reg_istat_code };\n        },\n      };\n      const province = {\n        prov_name: prov_name,\n        prov_istat: prov_istat_code,\n        reg_istat: reg_istat_code,\n        reg_name: reg_name,\n        type: 6,\n        parent: region,\n        getChildFeatures: async () => {\n          const [\n            municipalities,\n            properties,\n          ] = await getMunicipalitiesForProvinceIstatCode(prov_istat_code);\n          return {\n            ...municipalities,\n            parent: region,\n            properties,\n            prov_istat: prov_istat_code,\n            reg_istat: reg_istat_code,\n          };\n        },\n      };\n      const commonMunicipalityProperties = {\n        com_name: name,\n        com_istat: com_istat_code,\n        type: 8,\n        prov_istat: prov_istat_code,\n        reg_istat: reg_istat_code,\n        reg_name,\n        prov_name,\n      };\n      const municipality = {\n        ...commonMunicipalityProperties,\n        parent: province,\n        getChildFeatures: async () => {\n          const featureGeometry = await province.getChildFeatures();\n          const municipalityFeature = findMunicipalityInProvince(\n            featureGeometry,\n            com_istat_code\n          );\n          return {\n            ...municipalityFeature,\n            com_istat: com_istat_code,\n            prov_istat: prov_istat_code,\n            reg_istat: reg_istat_code,\n          };\n        },\n      };\n\n      if (previousProvinces) {\n        //insert municipalities\n        previousProvinces.children.push(municipality);\n      } else if (previousRegions) {\n        //insert provinces\n        previousRegions.children.push({\n          ...province,\n          children: [municipality],\n        });\n      } else {\n        //insert regions\n        italyTree.children.push({\n          reg_name: reg_name,\n          reg_istat: reg_istat_code,\n          type: 4,\n          ...region,\n          children: [{ ...province, children: [municipality] }],\n        });\n      }\n    }\n  );\n  // console.log(\"italyTree\", italyTree);\n  return italyTree;\n};\n","/* eslint-disable no-unused-expressions */\nimport { useEffect, useState } from \"react\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ExpandMore\";\nimport ArrowRightIcon from \"@material-ui/icons/ChevronRight\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { search } from \"./filter\";\nimport DownloadItems from \"./DownloadItems\";\nimport styles from \"./SideMenu.module.css\";\nimport { parentItem } from \"../../helpers\";\n\nconst scrollToElement = (element) =>\n  element.scrollIntoView({\n    behavior: \"smooth\",\n    block: \"center\",\n    inline: \"start\",\n  });\nconst SideMenu = ({\n  italyTree,\n  selectedTreeItem,\n  setSelectedTreeItem,\n  selectedFeature,\n}) => {\n  const [expanded, setExpanded] = useState([parentItem]);\n  const [selected, setSelected] = useState([parentItem]);\n  const [searchFilter, setSearchFilter] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const resetFilter = () => {\n    setSearchFilter([]);\n    setSearchValue(\"\");\n  };\n  const handleSelect = (_, nodeIds) => {\n    setSelected(nodeIds);\n  };\n\n  useEffect(() => {\n    if (!selectedFeature) {\n      return;\n    }\n    //this prevents triggers from the sidemenu itself\n    if (selectedTreeItem.preventExpand) {\n      return;\n    }\n\n    resetFilter();\n    const toExpand = [\n      ...(selectedTreeItem.com_istat ? [selectedTreeItem.com_istat] : []),\n      ...(selectedTreeItem.prov_istat ? [selectedTreeItem.prov_istat] : []),\n      ...(selectedTreeItem.reg_istat ? [selectedTreeItem.reg_istat] : []),\n      parentItem,\n    ];\n    setExpanded(toExpand);\n    setSelected(toExpand[0]);\n\n    const name = selectedFeature?.properties?.name;\n    try {\n      var xpath = `(//div[text()=\"${name}\"])[last()]`;\n      const targetItem = document.evaluate(\n        xpath,\n        document,\n        null,\n        XPathResult.FIRST_ORDERED_NODE_TYPE,\n        null\n      ).singleNodeValue;\n      if (targetItem) {\n        scrollToElement(targetItem);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [selectedFeature, selectedTreeItem]);\n\n  const searchNode = (term) => {\n    const dataNode = {\n      children: italyTree.children,\n    };\n    const matchedIDS = [parentItem];\n    search(dataNode, term, matchedIDS);\n    if (matchedIDS.length > 1) {\n      setSearchFilter(matchedIDS);\n    } else {\n      setSearchFilter([]);\n    }\n    setExpanded(matchedIDS);\n    setSelected(matchedIDS);\n  };\n\n  const mapTree = ({ children, ...node }) => {\n    const id =\n      node.com_istat || node.prov_istat || node.reg_istat || parentItem;\n    const name = node.com_name || node.prov_name || node.reg_name || parentItem;\n    if (searchFilter.length && !searchFilter.includes(id)) {\n      return null;\n    }\n    if (children?.length) {\n      children.sort((n1, n2) => n1.reg_name?.localeCompare(n2.reg_name));\n      children.sort((n1, n2) => n1.prov_name?.localeCompare(n2.prov_name));\n      children.sort((n1, n2) => n1.com_name?.localeCompare(n2.com_name));\n    }\n\n    return (\n      <TreeItem\n        key={id}\n        nodeId={id}\n        label={name}\n        onLabelClick={async (event) => {\n          //close on tap on selected node\n          if (\n            (node.reg_istat === expanded[0] && !node.prov_istat) ||\n            (node.prov_istat === expanded[0] && !node.com_istat)\n          ) {\n            setExpanded([...expanded.slice(1, expanded.length)]);\n            scrollToElement(event.target);\n            return;\n          }\n\n          const toExpand = [\n            ...(node.com_istat ? [node.com_istat] : []),\n            ...(node.prov_istat ? [node.prov_istat] : []),\n            ...(node.reg_istat ? [node.reg_istat] : []),\n            parentItem,\n          ];\n          setExpanded(toExpand);\n          node.preventExpand = true;\n          setSelectedTreeItem(node);\n\n          setTimeout(() => {\n            scrollToElement(event.target);\n          }, 200);\n        }}\n      >\n        {children && children.map(mapTree)}\n      </TreeItem>\n    );\n  };\n\n  const searchDebounced = useDebouncedCallback((value) => {\n    searchNode(value);\n  }, 500);\n\n  return (\n    <div className={styles.sideMenu}>\n      <TextField\n        label=\"Cerca\"\n        type=\"search\"\n        value={searchValue}\n        onChange={(e) => {\n          setSearchValue(e.target.value);\n          searchDebounced.callback(e.target.value);\n        }}\n      />\n\n      <TreeView\n        defaultCollapseIcon={<ArrowDropDownIcon />}\n        defaultExpandIcon={<ArrowRightIcon />}\n        expanded={expanded}\n        selected={selected}\n        onNodeSelect={handleSelect}\n      >\n        {mapTree(italyTree)}\n      </TreeView>\n      <DownloadItems selectedFeature={selectedFeature} />\n    </div>\n  );\n};\n\nexport default SideMenu;\n","import \"./App.css\";\nimport { MapContainer, TileLayer } from \"react-leaflet\";\nimport { useState, useMemo, useEffect } from \"react\";\nimport Italy from \"./components/Italy\";\nimport Breadcrumb from \"./components/Breadcrumb\";\nimport SideMenu from \"./components/SideMenu\";\nimport { italyBounds, geoRegions, makeItalianTree } from \"./helpers\";\nimport config from \"./configuration.json\";\n\nfunction App() {\n  const italyTree = useMemo(() => makeItalianTree(), []);\n  const [currentGeoJSON, setCurrentGeoJSON] = useState(geoRegions);\n  const [selectedTreeItem, setSelectedTreeItem] = useState(italyTree);\n  const [selectedFeature, setSelectedFeature] = useState(null);\n\n  useEffect(() => {\n    selectedTreeItem.getChildFeatures().then((feature) => {\n      setCurrentGeoJSON(feature);\n      setSelectedFeature(feature);\n    });\n  }, [selectedTreeItem]);\n\n  return (\n    <div className=\"container\">\n      <Breadcrumb\n        selectedTreeItem={selectedTreeItem}\n        setSelectedTreeItem={setSelectedTreeItem}\n      />\n      <div className=\"content\">\n        <MapContainer\n          id=\"mapContainer\"\n          zoom={6}\n          minZoom={6}\n          bounds={italyBounds}\n          maxBounds={italyBounds}\n          maxBoundsViscosity={0.5}\n          scrollWheelZoom={true}\n        >\n          <TileLayer\n            attribution={config.mapAttribution}\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <Italy\n            currentGeoJSON={currentGeoJSON}\n            italyTree={italyTree}\n            selectedTreeItem={selectedTreeItem}\n            setSelectedTreeItem={setSelectedTreeItem}\n          />\n        </MapContainer>\n        <SideMenu\n          italyTree={italyTree}\n          selectedTreeItem={selectedTreeItem}\n          setSelectedTreeItem={setSelectedTreeItem}\n          selectedFeature={selectedFeature}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}